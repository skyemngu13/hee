local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Player = game:GetService("Players").LocalPlayer
local _ = script.Parent
local SharedModules = ReplicatedStorage.SharedModules

require(SharedModules.Others.GuiFunctions)
local WeaponsModule = require(SharedModules.WeaponsModule)

-- Chờ player load xong
repeat task.wait(1) until Player:GetAttribute("Loaded") == true

-- Bắt đầu vòng lặp auto click
while true do
    task.wait(0.1)

    -- Nếu không có gamepass AutoClicker thì delay lâu hơn
    if Player.leaderstats:FindFirstChild("Passes") and Player.leaderstats.Passes:GetAttribute("AutoClicker") ~= true then
        task.wait(0.4)
    end

    -- Nếu bị tắt thì tự bật lại
    if Player:GetAttribute("AutoClick") ~= true then
        Player:SetAttribute("AutoClick", true)
    end

    -- Gọi Click
    WeaponsModule.Click({
        ["KeyCode"] = Enum.KeyCode.ButtonX
    }, false, nil, true)
end
