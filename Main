repeat 
    wait() 
until game:IsLoaded() and game.Players.LocalPlayer and 
      game.Workspace:FindFirstChild("__Extra") and 
      game.Workspace:FindFirstChild("__Main")

local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/jensonhirst/Orion/main/source"))()

local Window = OrionLib:MakeWindow({
    Name = "P·ªãa Hub - P·ªãa x√†o me",  -- Th√™m ph·∫ßn text "P·ªãa x√†o me" ph√≠a tr∆∞·ªõc
    HidePremium = false,
    SaveConfig = false,
    ConfigFolder = "AutoHub"
})

local settingsFile = "autohub_settings.json"
local HttpService = game:GetService("HttpService")

-- ƒê·ªçc settings
local settings = {}
pcall(function()
    if isfile(settingsFile) then
        settings = HttpService:JSONDecode(readfile(settingsFile))
    end
end)

-- L∆∞u settings
local function saveSettings()
    writefile(settingsFile, HttpService:JSONEncode(settings))
end

local InfoTab = Window:MakeTab({
    Name = "Info",
    Icon = "rbxassetid://83969479610474",
    PremiumOnly = false
})

-- Th√¥ng b√°o c·∫≠p nh·∫≠t
InfoTab:AddParagraph("üõ†Ô∏è C·∫≠p nh·∫≠t m·ªõi nh·∫•t", [[
üìå - Version: v1.1
üÜï + Th√™m Auto Join Castle
üîß + C·∫£i thi·ªán hi·ªáu xu·∫•t t√≠nh nƒÉng
üí° + L∆∞u setting khi telepoint
‚öîÔ∏è + Arise ƒëang c√≥ "Jinwoo"-"Pucci"-"Denji"
‚õ©Ô∏è + Check double "b√∫ sjw N ü§ë"
üëâ + Fast auto click(test)
üëâ + Auto load script
‚úÖÔ∏è - Anti afk ƒë√£ ƒë∆∞·ª£c b·∫≠t
üëâ + Auto Attack
üîß - fix farm mori nh∆∞ng v·∫´n d√πng tween
]])

local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://124598949660449",
    PremiumOnly = false
})

local toggleList = {
    {
        Name = "Auto Bypass",
        Key = "AutoBypass",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/bypass"
    },
    {
        Name = "Auto Kill Dungeon",
        Key = "AutoKillDungeon",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/automobdungeon"
    },
    {
        Name = "Auto Farm Mori",
        Key = "AutoFarmMori",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/mori"
    },
    {
        Name = "Auto Join Castle",  -- üëà Toggle m·ªõi
        Key = "AutoJoinCastle",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/castle"
    },
    {
        Name = "Auto Destroy", 
        Key = "AutoDestroy",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/destroy"
    }
}

-- T·∫°o toggle
for _, t in ipairs(toggleList) do
    settings[t.Key] = settings[t.Key] or false

    MainTab:AddToggle({
        Name = t.Name,
        Default = settings[t.Key],
        Callback = function(val)
            settings[t.Key] = val
            saveSettings()

            if val then
                -- Ch·∫°y sau 1 frame, tr√°nh crash UI
                task.spawn(function()
                    pcall(function()
                        loadstring(game:HttpGet(t.Script))()
                    end)
                end)
            end
        end
    })
end

-- T·∫°o Tab Misc v·ªõi Toggle AutoClick (Tab n√†y s·∫Ω l√† tab th·ª© 3)
local MiscTab = Window:MakeTab({
    Name = "Misc",
    Icon = "rbxassetid://95758233681936",
    PremiumOnly = false
})

local autoClicking = false  -- Bi·∫øn tr·∫°ng th√°i AutoClick

MiscTab:AddToggle({
    Name = "AutoClick",  -- Toggle m·ªõi
    Default = settings["AutoClick"] or false,
    Callback = function(val)
        settings["AutoClick"] = val
        saveSettings()

        if val then
            -- B·∫Øt ƒë·∫ßu AutoClick khi toggle b·∫≠t
            autoClicking = true
            local ReplicatedStorage = game:GetService("ReplicatedStorage")
            local Player = game:GetService("Players").LocalPlayer
            local SharedModules = ReplicatedStorage.SharedModules

            require(SharedModules.Others.GuiFunctions)
            local WeaponsModule = require(SharedModules.WeaponsModule)

            -- Ch·ªù player load xong
            repeat task.wait(1) until Player:GetAttribute("Loaded") == true

            -- B·∫Øt ƒë·∫ßu v√≤ng l·∫∑p AutoClick
            task.spawn(function()
                while autoClicking do
                    task.wait(0.1)

                    -- N·∫øu kh√¥ng c√≥ gamepass AutoClicker th√¨ delay l√¢u h∆°n
                    if Player.leaderstats:FindFirstChild("Passes") and Player.leaderstats.Passes:GetAttribute("AutoClicker") ~= true then
                        task.wait(0.2)
                    end

                    -- N·∫øu b·ªã t·∫Øt th√¨ t·ª± b·∫≠t l·∫°i
                    if Player:GetAttribute("AutoClick") ~= true then
                        Player:SetAttribute("AutoClick", true)
                    end

                    -- G·ªçi Click
                    WeaponsModule.Click({
                        ["KeyCode"] = Enum.KeyCode.ButtonX
                    }, false, nil, true)
                end
            end)
        else
            -- D·ª´ng AutoClick khi toggle t·∫Øt
            autoClicking = false
        end
    end
})

MiscTab:AddToggle({
    Name = "Auto Attack",  -- Toggle Auto Attack
    Default = settings["AutoAttack"] or false,
    Callback = function(val)
        settings["AutoAttack"] = val
        saveSettings()

        if val then
            -- Ch·∫°y script Auto Attack t·ª´ URL khi toggle b·∫≠t
            task.spawn(function()
                pcall(function()
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/auto%20attack"))()
                end)
            end)
        else
            -- T·∫Øt Auto Attack khi toggle t·∫Øt
            -- B·∫°n c√≥ th·ªÉ th√™m logic ƒë·ªÉ d·ª´ng script Auto Attack n·∫øu c·∫ßn
        end
    end
})

MiscTab:AddToggle({
    Name = "Auto Load Script",
    Default = settings["AutoLoadScript"] or false,
    Callback = function(val)
        settings["AutoLoadScript"] = val
        saveSettings()

        if val then
            queue_on_teleport([[
                loadstring(game:HttpGet('https://raw.githubusercontent.com/Baylac2006/memaybeo/refs/heads/main/memaybeo'))()
            ]])
        end
    end
})

-- Sau khi UI xong ‚Üí ch·∫°y c√°c script ƒë√£ b·∫≠t
task.spawn(function()
    task.wait(1) -- ƒë·∫£m b·∫£o UI v·∫Ω xong
    for _, t in ipairs(toggleList) do
        if settings[t.Key] then
            pcall(function()
                loadstring(game:HttpGet(t.Script))()
            end)
        end
    end
end)

-- Anti-AFK Script (Auto Execute Version)
local vu = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    vu:CaptureController()
    vu:ClickButton2(Vector2.new(0,0))
end)

-- Bypass Anti-Teleport (Lu√¥n ch·∫°y song song nh∆∞ Anti-AFK)
task.spawn(function()
    local replicated = game:GetService("ReplicatedStorage")
    local extraFunctions = require(replicated:WaitForChild("SharedModules"):WaitForChild("ExtraFunctions"))

    if not getgenv()._original_GetPlayerSpeed then
        getgenv()._original_GetPlayerSpeed = extraFunctions.GetPlayerSpeed

        extraFunctions.GetPlayerSpeed = function(player)
            return 999999
        end

        warn("‚úÖ ƒê√£ bypass anti teleport")
    end
end)
