repeat 
    wait() 
until game:IsLoaded() and game.Players.LocalPlayer and 
      game.Workspace:FindFirstChild("__Extra") and 
      game.Workspace:FindFirstChild("__Main")

local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/jensonhirst/Orion/main/source"))()

local Window = OrionLib:MakeWindow({
    Name = "Pá»‹a Hub - Pá»‹a xÃ o me",  -- ThÃªm pháº§n text "Pá»‹a xÃ o me" phÃ­a trÆ°á»›c
    HidePremium = false,
    SaveConfig = false,
    ConfigFolder = "AutoHub"
})

local settingsFile = "autohub_settings.json"
local HttpService = game:GetService("HttpService")

-- Äá»c settings
local settings = {}
pcall(function()
    if isfile(settingsFile) then
        settings = HttpService:JSONDecode(readfile(settingsFile))
    end
end)

-- LÆ°u settings
local function saveSettings()
    writefile(settingsFile, HttpService:JSONEncode(settings))
end

local InfoTab = Window:MakeTab({
    Name = "Info",
    Icon = "rbxassetid://83969479610474",
    PremiumOnly = false
})

-- ThÃ´ng bÃ¡o cáº­p nháº­t
InfoTab:AddParagraph("ğŸ› ï¸ Cáº­p nháº­t má»›i nháº¥t", [[
ğŸ“Œ - Version: v1.1
ğŸ†• + ThÃªm Auto Join Castle
ğŸ”§ + Cáº£i thiá»‡n hiá»‡u xuáº¥t tÃ­nh nÄƒng
ğŸ’¡ + LÆ°u setting khi telepoint
âš”ï¸ + Arise Ä‘ang cÃ³ "Jinwoo"-"Pucci"-"Denji"
â›©ï¸ + Check double "bÃº sjw N ğŸ¤‘"
ğŸŒ¡ + Fix ping cao ğŸ—¿
++++ New auto click
]])

local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://124598949660449",
    PremiumOnly = false
})

local toggleList = {
    {
        Name = "Auto Bypass",
        Key = "AutoBypass",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/bypass"
    },
    {
        Name = "Auto Kill Dungeon",
        Key = "AutoKillDungeon",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/automobdungeon"
    },
    {
        Name = "Auto Farm Mori",
        Key = "AutoFarmMori",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/mori"
    },
    {
        Name = "Auto Join Castle",  -- ğŸ‘ˆ Toggle má»›i
        Key = "AutoJoinCastle",
        Script = "https://raw.githubusercontent.com/skyemngu13/hee/refs/heads/main/castle"
    }
}

-- Táº¡o toggle
for _, t in ipairs(toggleList) do
    settings[t.Key] = settings[t.Key] or false

    MainTab:AddToggle({
        Name = t.Name,
        Default = settings[t.Key],
        Callback = function(val)
            settings[t.Key] = val
            saveSettings()

            if val then
                -- Cháº¡y sau 1 frame, trÃ¡nh crash UI
                task.spawn(function()
                    pcall(function()
                        loadstring(game:HttpGet(t.Script))()
                    end)
                end)
            end
        end
    })
end

-- Sau khi UI xong â†’ cháº¡y cÃ¡c script Ä‘Ã£ báº­t
task.spawn(function()
    task.wait(1) -- Ä‘áº£m báº£o UI váº½ xong
    for _, t in ipairs(toggleList) do
        if settings[t.Key] then
            pcall(function()
                loadstring(game:HttpGet(t.Script))()
            end)
        end
    end
end)
